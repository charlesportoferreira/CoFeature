from. kelsey@mdd.comm.mot.com (joe kelsey). subject. re. xv . has escaped!. organization. motorola, mobile data division seattle, wa. lines. . . in lindholm@ucs.ubc.ca (george lindholm) writes.. >in article , lindholm@ucs.ubc.ca (george lindholm) writes.. >> in article bradley@grip.cis.upenn.edu (john bradley) writes.. >> and here is the first patch . ) the following fixes some problems with the. >> imakefile files and makes it possible to compile xv . under solaris without . >> having to use the ucb stuff.. . >oops, i didn't get the signal processing right (thats what i get from doing. >the work on an ascii terminal). here is the fixed patch.. . the patches for xv.h need to use ``#ifdef svr'' rather than the. overly complex ``#if defined(sun) && defined(sysv)'' in order to. generically compile xv on isvrarchitecture. also, rand and srand. don't work very well use lrand and seed to get better results.. otherwise, xv . compiles just fine on my esix system v .. box. with xfree and gcc ... i just uncommented the gcc definition in. the makefile, added l/usr/x/lib i/usr/x/include to the copts. line and modified libs to include lsocket lnsl. really john, if you. just use the imakefile things like this don't even have to get. mentioned.... . *** . // .. xv.h // .. ***************. *** , ****. , . . . /* signal macros */. + #ifdef svr. + #define hold sig sighold(sigalrm). + #define release sig sigrelse(sigalrm). + #define pause sig sigpause(sigalrm). + #else. #define hold sig sigblock(sigmask(sigalrm)). #define release sig sigblock(). #define pause sig sigpause(). + #endif. . . /* default for most folks */. ***************. *** , ****. , . #define random rand. #define srandom srand. #endif. + #ifdef svr. + #define random lrand. + #define srandom seed. + #endif. . .