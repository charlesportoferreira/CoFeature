from. spang@nbivax.nbi.dk (karsten spang). subject. cannot create plane window. organization. niels bohr institute and nordita, copenhagen. lines. . . hello x'ers. . i have a problem. i am not able to create a window with bit planes. the. following code illustrates the problem.. . #include . #include . #include . . main(). {. display *display;. window win;. xvisualinfo vinfo;. colormap colormap;. xsetwindowattributes attributes;. xevent event;. status status;. . display=xopendisplay(null);. status=xmatchvisualinfo(display,defaultscreen(display),,truecolor,. &vinfo);. if (!status){. fprintf(stderr,"visual not found\n");. exit();. }. colormap=xcreatecolormap(display,defaultrootwindow(display),. vinfo.visual,allocnone);. . attributes.colormap=colormap;. . win=xcreatewindow(display,defaultrootwindow(display),,,,,. ,,inputoutput,vinfo.visual,cwcolormap,&attributes);. xmapwindow(display,win);. for (;;){. xnextevent(display,&event);. }. }. . i tried this with an sgi with plane truecolor server, and with an hp. plane directcolor server (with the obviously neccessary change),. both running xr. on the client side, i have tried with xr xlib on. hp and decstation, and with xr xlib on decstation. all the. combinations gave badmatch error on the createwindow request.. . as far as i can tell from the manual, the only attribute which may give. a badmatch, is the colormap, if it belongs to a wrong visual. but the. visual was correctly matched, as i did not get the error message. what. am i doing wrong? for information i can tell that xwud aborts with the. same error.. . karsten. . . internet. krs@kampsax.dk karsten spang. phone. + kampsax data. fax. + p.o. box . dk hvidovre. denmark.